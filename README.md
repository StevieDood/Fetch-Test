<p  align="center">
<a  href="https://fetch.com"  target="blank"><img  src="https://s3-recruiting.cdn.greenhouse.io/external_greenhouse_job_boards/logos/400/111/000/original/Fetch_PrimaryLogo.jpg?1669991665"  width="200"  alt="Fetch Logo"  /></a>
</p>

[circleci-image]: https://img.shields.io/circleci/build/github/nestjs/nest/master?token=abc123def456
[circleci-url]: https://circleci.com/gh/nestjs/nest

<p  align="center">A backend excercise made by Steve Lemus.</p>

## Description

A backend exercise made on NestJS as a framework, and Typescript. Mounted on a Docker container.

## Installation

```bash

$  docker build -t fetch_steve_test .

```

## Running the app

```bash

$  docker run -d -p 3000:3000 fetch_steve_test
```

## Documentation

I included a Swagger documentation to review the endpoints, check the receipt schema and test each task directly from the browser. However, it can be tested without problem from postman or any other client from the local host on port 3000. Without any further ado, the swagger can be accesed from here

```bash

# Swagger doc

http://localhost:3000/api/doc/

```

## **Endpoints**

### Endpoint: heartbeat

- Path: `/`
- Method: `GET`
- Payload: None
- Response: A simple string to check the availability of the service.

This endpoint was made just to check the health of the service :) .

Example Response:

```bash
"Hello world!"
```

### Endpoint: find by id

- Path: `/receipts/{id}`
- Method: `GET`
- Payload: None
- Param: a valid uuid
- Response: A JSON cointaining a receipt info. This one should be persisted previously.

Example Response:

```bash
{
  "id": "2b58c7db-b1cc-4c3c-8802-e26a7b0f730a",
  "retailer": "Starbucks",
  "purchaseDate": "2023-08-21",
  "purchaseTime": "14:35",
  "total": "35.25",
  "items": [
    {
      "shortDescription": "Mountain Dew 12PK",
      "price": "6.49"
    },
    {
      "shortDescription": "Emils Cheese Pizza",
      "price": "12.25"
    },
    {
      "shortDescription": "Knorr Creamy Chicken",
      "price": "1.26"
    },
    {
      "shortDescription": "Doritos Nacho Cheese",
      "price": "3.35"
    },
    {
      "shortDescription": "   Klarbrunn 12-PK 12 FL OZ  ",
      "price": "12.00"
    }
  ]
}
```

### Endpoint: Process Receipts

- Path: `/receipts/process`
- Method: `POST`
- Payload: Receipt JSON
- Response: JSON containing an id for the receipt.

Description:

Takes in a JSON receipt and returns a JSON object with an ID generated by the api.

The ID returned is the ID that should be passed into `/receipts/{id}/points` to get the number of points the receipt was awarded.

Reminder: Data does not need to survive an application restart.

Example Response:

```bash
{ "id": "7fb1377b-b223-49d9-a31a-5a02701dd310" }
```

## Endpoint: Get Points

- Path: `/receipts/{id}/points`
- Method: `GET`
- Param: a valid uuid
- Response: A JSON object containing the number of points awarded.

A simple Getter endpoint that looks up the receipt by the ID and returns an object specifying the points awarded.

Example Response:

```bash
{ "points": 32 }
```

### Reminder

The projet can also be run installing the `npm i -g @nestjs/cli`, running `yarn install` to add all the dependencias and typing `nest start --watch` to start it, but as the task stated before, I added a Dockerfile and the commands needed to sucessfully run the project.

## Stay in touch

- Author - [Steve Lemus](https://www.linkedin.com/in/steve-lemus/)

- Email - [stv8904@hotmail.com](mail.to)

## Thanks!
